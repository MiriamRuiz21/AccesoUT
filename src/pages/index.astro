---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Banner from '../components/Banner.astro';
import RegisterForm from '../components/RegisterForm.astro';
import ChatWidget from '../components/ChatWidget.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Centro de Acceso UTSJR">
  <Header />
  
  <main>
    <Banner />

    <section class="welcome-container">
      <h1 class="welcome-title">Bienvenid@ al Centro de Acceso <strong>UTSJR</strong></h1>
      
      <div class="cards-wrapper">
        <a href="#registro" class="welcome-card">
          <div class="icon-box">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
              <circle cx="12" cy="14" r="3"></circle>
              <path d="M12 17v4"></path>
            </svg>
          </div>
          <span class="card-label">Nuevo Registro<br/><strong>Visitante</strong></span>
        </a>

        <div class="vertical-divider"></div>

        <a href="#ayuda" class="welcome-card">
          <div class="icon-box">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#666" stroke-width="1.2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="9" y1="9" x2="15" y2="9"></line>
              <line x1="9" y1="13" x2="15" y2="13"></line>
              <line x1="9" y1="17" x2="11" y2="17"></line>
            </svg>
          </div>
          <span class="card-label">Continuar al<br/><strong>Sitio / Ayuda</strong></span>
        </a>
      </div>

      <p class="welcome-footer">
        El Servicio de Administración Universitaria gestiona con piso parejo, vocación humana y conciencia social para la transformación de la UTSJR.
      </p>
    </section>

    <section id="registro">
      <RegisterForm />
    </section>

    <div class="container">
      <div class="help-section-layout" id="ayuda">
        
        <!-- TEXTO A LA IZQUIERDA -->
        <div class="instructions-text">
          <h2>Instrucciones de Acceso</h2>
          <p>Siga estos pasos para validar su solicitud de cita al campus:</p>
          
          <br />
          
          <article class="step">
            <h3>1. Solicitud de Cita / Acceso</h3>
            <p>Completa tus datos personales, selecciona la <strong>fecha de tu cita</strong> y el <strong>motivo de tu visita</strong>.</p>
          </article>
          
          <br />
          
          <article class="step">
            <h3>2. Documentación</h3>
            <p>Es obligatorio <strong>subir tu identificación oficial</strong> (PDF o imagen) para validar tu identidad.</p>
          </article>

          <br />
          
          <article class="step">
            <h3>3. Validación y QR</h3>
            <p>Tras la aprobación, recibirás un <strong>código QR</strong> en tu correo para presentarlo al llegar.</p>
          </article>
        </div>

        <!-- MAPA CENTRADO A LA DERECHA -->
        <div class="map-half-side">
          <div class="map-card">
            <iframe 
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3744.137357068225!2d-100.0152436239121!3d20.31513931215162!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d30b6664988775%3A0x6b40285a81e9f168!2sUT%20San%20Juan%20del%20R%C3%ADo!5e0!3m2!1ses-419!2smx!4v1707750000000!5m2!1ses-419!2smx" 
              width="100%" 
              height="350" 
              style="border:0;" 
              allowfullscreen="" 
              loading="lazy">
            </iframe>
          </div>
        </div>

      </div>
    </div>
  </main>

  <ChatWidget />
  <Footer />
</Layout>

<style>
  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 20px;
  }

  /* BIENVENIDA */
  .welcome-container {
    text-align: center;
    padding: 50px 20px;
    max-width: 900px;
    margin: 0 auto;
  }

  .welcome-title { 
    font-size: 2.2rem; 
    color: #444; 
    margin-bottom: 40px; 
  }

  .welcome-title strong { 
    color: #00b049; 
  }

  .cards-wrapper { 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    gap: 30px; 
    margin-bottom: 40px; 
  }

  .welcome-card {
    text-decoration: none; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center;
    padding: 25px; 
    border: 1px solid #ccc; 
    border-radius: 8px; 
    width: 200px; 
    height: 210px; 
    transition: all 0.2s;
  }

  .welcome-card:hover { 
    border-color: #007bff; 
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.1); 
  }

  .icon-box { 
    width: 50px; 
    height: 50px; 
    margin-bottom: 10px; 
  }

  .vertical-divider { 
    width: 2px; 
    height: 100px; 
    background: #007bff; 
    opacity: 0.6; 
  }

  /* LAYOUT TEXTO IZQUIERDA + MAPA DERECHA */
  .help-section-layout {
    display: flex;
    justify-content: space-between;
    align-items: center; /* centra verticalmente el mapa */
    gap: 40px;
    margin: 60px 0;
  }

  .instructions-text {
    flex: 1;
  }

  .instructions-text h2 { 
    color: #002d55; 
    margin-bottom: 15px; 
  }

  .step h3 { 
    color: #007bff; 
    margin-bottom: 5px; 
  }

  /* MAPA EN MITAD DERECHA */
  .map-half-side {
    flex: 0 0 450px;
    display: flex;
    justify-content: center;
  }

  .map-card {
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    border: 1px solid #eee;
  }

  /* RESPONSIVO */
  @media (max-width: 900px) {
    .help-section-layout {
      flex-direction: column;
      align-items: stretch;
    }

    .map-half-side {
      flex: 1;
      max-width: 100%;
    }

    .cards-wrapper { 
      flex-direction: column; 
    }

    .vertical-divider { 
      display: none; 
    }
  }
</style>
